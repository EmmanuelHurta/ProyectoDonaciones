{% extends 'DonacionesApp/base.html' %}

{% block title %}Dashboard - Sistema de Donaciones{% endblock %}

{% block extra_css %}
<style>
  .form-card {
    max-width: 600px;
    margin: 0 auto;
  }
</style>
{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} text-center">{{ message }}</div>
        {% endfor %}
      {% endif %}

      <div class="card shadow-sm form-card">
        <div class="card-body">
          <h4 class="mb-4 text-center">Crear Nuevo Usuario</h4>
          <form method="POST">
            {% csrf_token %}
            <div class="mb-3">
              <label class="form-label" for="username">Usuario</label>
              <input class="form-control" id="username" name="username" required value="{{ request.POST.username|default:'' }}">
            </div>
            <div class="mb-3">
              <label class="form-label" for="first_name">Nombre</label>
              <input class="form-control" id="first_name" name="first_name" value="{{ request.POST.first_name|default:'' }}">
            </div>
            <div class="mb-3">
              <label class="form-label" for="last_name">Apellido</label>
              <input class="form-control" id="last_name" name="last_name" value="{{ request.POST.last_name|default:'' }}">
            </div>
            <div class="mb-3">
              <label class="form-label" for="email">Email</label>
              <input class="form-control" type="email" id="email" name="email" value="{{ request.POST.email|default:'' }}">
            </div>
            <div class="mb-3">
              <label class="form-label" for="password">Contrase?a</label>
              <input class="form-control" type="password" id="password" name="password" required>
            </div>
            <div class="mb-4">
              <label class="form-label" for="rol">Rol</label>
              <select class="form-select" id="rol" name="rol">
                <option value="staff" {% if request.POST.rol == 'staff' %}selected{% endif %}>Staff</option>
                <option value="adminapp" {% if request.POST.rol == 'adminapp' %}selected{% endif %}>AdminApp</option>
                <option value="admin" {% if request.POST.rol == 'admin' %}selected{% endif %}>Administrador</option>
              </select>
            </div>
            <div class="d-flex justify-content-between">
              <a href="{% url 'listar_usuarios' %}" class="btn btn-outline-secondary">Cancelar</a>
              <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
